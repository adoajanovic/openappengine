<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:ice="http://www.icesoft.com/icefaces/component"
     xmlns:ace="http://www.icefaces.org/icefaces/components">
    <ice:panelGroup id="dragDropPanelInsert">
           <ice:form id="dragAndDropForm">
                   <ice:panelGrid columns="2">
                     <ice:panelGroup style="float:left;margin-top:15px;">
                       <ice:panelSeries value="#{tabBean.employees}"
                                  id="PnlSeries"
                                  var="emp">
                          <ice:panelGroup id="employeeContainer"
                                        styleClass="draggableContainer">
                              <ice:panelGrid columns="2">
                                   <ice:panelGroup id="draggableEmps"
                                     draggable="true"
                                     dragListener="#{tabBean.addEmployee}"
                                     dragValue="#{emp}"
                                     dragOptions="dragGhost"
                                     dragMask="dragging, drag_cancel, hover_start, hover_end"
                                     dropMask="dragging, drag_cancel, hover_start, hover_end">
                                     <ice:graphicImage id="empImage"
                                          width="20px"
                                          height="30px"
                                          url="/css/images/employee.gif"/>
                                   </ice:panelGroup>
                                   <ice:panelGroup style="text-align:center">
                                     <ice:outputText value="#{emp.lastName}, #{emp.firstName}"/>
                                   </ice:panelGroup>
                              </ice:panelGrid>
                        </ice:panelGroup>
                     </ice:panelSeries>
                   </ice:panelGroup>
                   <ice:panelGroup id="dropZone"
                                styleClass="chartContainer backBeanChangeContainer"
                                style="border: none;padding:2px;"
                                hoverclass="cartDropTarget"
                                dropTarget="true" >
                       <ice:panelGroup >
                    <!-- Cart items -->
                         <ice:dataTable id="DataTbl"
                                   value="#{tabBean.selectedEmployees}"
                                   var="selEmp"
                                   width="80%"
                                   style="padding: 0px; margin: 0px;"
                                   border="0" cellpadding="2">
                           <ice:column>
                               <f:facet name="header">
                                   <ice:outputText
                                        value="picture"/>
                               </f:facet>
                               <ice:panelGroup>
                                <ice:graphicImage id="empItemImage"
                                                    width="30px"
                                                    height="30px"
                                                  url="/css/images/employee.gif"
                                                  alt="#{selEmp.lastName}"/>
                                </ice:panelGroup>
                            </ice:column>

                            <ice:column>
                                <f:facet name="header">
                                    <ice:outputText
                                            value="lastName"/>
                                </f:facet>
                                <ice:outputText id="DDNameout" value="#{selEmp.lastName}"/>
                            </ice:column>

                            <ice:column>
                                <f:facet name="header">
                                    <ice:outputText
                                            style="display:inline;"
                                            value="FirstName"/>
                                </f:facet>
                                <ice:outputText id="DDPriceout"
                                                style="display:inline;"
                                                value="#{selEmp.firstName}">
                                </ice:outputText>
                            </ice:column>

                            <ice:column>
                                <f:facet name="header">
                                    <ice:outputText
                                            value="remove"/>
                                </f:facet>
                                <ice:panelGroup >
                                    <ice:commandLink id="DDRtn"
                                                     actionListener="#{tabBean.removeEmployee}"
                                            value="Remove" >
                                        <f:param name="employeeId" value="#{selEmp.id}" />
                                    </ice:commandLink>
                                </ice:panelGroup>
                            </ice:column>
                        </ice:dataTable>

                       </ice:panelGroup>
                      </ice:panelGroup>
                    </ice:panelGrid>
                    <p>
                    <ice:outputText value="Drag the image on the left to the table header"/>
                    <ice:outputText value=" each person can only be included a single time in the table"/>
                    </p>
                </ice:form>
    </ice:panelGroup>
</ui:composition>
